import{_ as F}from"../chunks/preload-helper.a4192956.js";import{s as y,n as p,o as E,t as T}from"../chunks/scheduler.e108d1fd.js";import{S as C,i as L,g as _,h as g,j as w,f,a as d,H as U,e as m,y as q,d as u,t as h,b as S,p as N,z as j,q as A,r as M,s as x,u as z,c as G,v as B,x as J,w as H}from"../chunks/index.9fcba71d.js";function O(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}const K="listener_updates",Q="wurbo",W=""+new URL("../assets/vowels.a89cefb2.wasm",import.meta.url).href;function I(o){let l,e;return{c(){l=new U(!1),e=m(),this.h()},l(t){l=q(t,!1),e=m(),this.h()},h(){l.a=e},m(t,n){l.m(o[0],t,n),d(t,e,n)},p(t,n){n&1&&l.p(t[0])},d(t){t&&(f(e),l.d())}}}function X(o){let l,e=o[0]&&I(o);return{c(){l=_("div"),e&&e.c()},l(t){l=g(t,"DIV",{});var n=w(l);e&&e.l(n),n.forEach(f)},m(t,n){d(t,l,n),e&&e.m(l,null)},p(t,[n]){t[0]?e?e.p(t,n):(e=I(t),e.c(),e.m(l,null)):e&&(e.d(1),e=null)},i:p,o:p,d(t){t&&f(l),e&&e.d()}}}function Y(o,l,e){let{buildCodeString:t}=l,{load:n}=l,r,a;return E(async()=>{let i=new $,s=await fetch(W).then(v=>v.arrayBuffer()),c=[{"demo:vowels/wurbo-in":t(i.namespace)}];e(3,a=await n(s,c));let b={tag:"content",val:{page:{title:"Let's count vowels using templates for Inputs and Outputs!"},input:{placeholder:"Input the word with vowels it's here"},output:{value:"vowels"}}};e(0,r=a.wurboOut.render(b)),i.listen(a)}),o.$$set=i=>{"buildCodeString"in i&&e(1,t=i.buildCodeString),"load"in i&&e(2,n=i.load)},o.$$.update=()=>{o.$$.dirty&9&&r&&a&&(async()=>(await T(),a.wurboOut.activate()))()},[r,t,n,a]}class Z extends C{constructor(l){super(),L(this,l,Y,X,y,{buildCodeString:1,load:2})}}const ee=""+new URL("../assets/forms.9e2e3b69.wasm",import.meta.url).href;function D(o){let l,e;return{c(){l=new U(!1),e=m(),this.h()},l(t){l=q(t,!1),e=m(),this.h()},h(){l.a=e},m(t,n){l.m(o[0],t,n),d(t,e,n)},p(t,n){n&1&&l.p(t[0])},d(t){t&&(f(e),l.d())}}}function te(o){let l,e=o[0]&&D(o);return{c(){l=_("div"),e&&e.c()},l(t){l=g(t,"DIV",{});var n=w(l);e&&e.l(n),n.forEach(f)},m(t,n){d(t,l,n),e&&e.m(l,null)},p(t,[n]){t[0]?e?e.p(t,n):(e=D(t),e.c(),e.m(l,null)):e&&(e.d(1),e=null)},i:p,o:p,d(t){t&&f(l),e&&e.d()}}}function ne(o,l,e){let{buildCodeString:t}=l,{load:n}=l,r,a;return E(async()=>{let i=new $,s=await fetch(ee).then(v=>v.arrayBuffer()),c=[{"demo:forms/wurbo-in":t(i.namespace)}];e(3,a=await n(s,c));let b={tag:"content",val:{page:{title:"Let's process the contents of a form."},input:{placeholder:"Enter a Username here"}}};e(0,r=a.wurboOut.render(b)),i.listen(a)}),o.$$set=i=>{"buildCodeString"in i&&e(1,t=i.buildCodeString),"load"in i&&e(2,n=i.load)},o.$$.update=()=>{o.$$.dirty&9&&r&&a&&(async()=>(await T(),a.wurboOut.activate()))()},[r,t,n,a]}class le extends C{constructor(l){super(),L(this,l,ne,te,y,{buildCodeString:1,load:2})}}const V=[Z,le];class ${constructor(){let l=Math.random().toString(36).substring(7);this.namespace=Q+l}listen(l){window[this.namespace]={render:l.wurboOut.render};const e=new BroadcastChannel(K);e.onmessage=t=>{var r,a,i;let n=((i=(a=(r=new DOMParser().parseFromString(t.data||"","text/html"))==null?void 0:r.body)==null?void 0:a.firstElementChild)==null?void 0:i.id)||null;if(n){let s=document.getElementById(n);if(s){s.outerHTML=t.data;return}}console.warn("No element found with id: ",n)}}}function ie(o){return`
      const CHANNEL_NAME = 'listener_updates';
      const bc = new BroadcastChannel(CHANNEL_NAME);
      export function addeventlistener({ selector, ty }) {
        document.querySelector(selector).addEventListener(ty, (e) => {
          let ctx = {
            tag: e.target.name,
            val: {
              value: e.target.value,
            }
          };
          bc.postMessage(window.${o}.render(ctx));
        });
      }`}function k(o,l,e){const t=o.slice();return t[1]=l[e],t}function P(o){let l,e,t=O(V),n=[];for(let a=0;a<t.length;a+=1)n[a]=R(k(o,t,a));const r=a=>h(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();l=m()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);l=m()},m(a,i){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,i);d(a,l,i),e=!0},p(a,i){if(i&1){t=O(V);let s;for(s=0;s<t.length;s+=1){const c=k(a,t,s);n[s]?(n[s].p(c,i),u(n[s],1)):(n[s]=R(c),n[s].c(),u(n[s],1),n[s].m(l.parentNode,l))}for(N(),s=t.length;s<n.length;s+=1)r(s);S()}},i(a){if(!e){for(let i=0;i<t.length;i+=1)u(n[i]);e=!0}},o(a){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)h(n[i]);e=!1},d(a){a&&f(l),j(n,a)}}}function R(o){let l,e,t,n;var r=o[1];function a(i,s){return{props:{load:i[0],buildCodeString:ie}}}return r&&(e=A(r,a(o))),{c(){l=_("div"),e&&M(e.$$.fragment),t=x()},l(i){l=g(i,"DIV",{});var s=w(l);e&&z(e.$$.fragment,s),t=G(s),s.forEach(f)},m(i,s){d(i,l,s),e&&B(e,l,null),J(l,t),n=!0},p(i,s){if(r!==(r=i[1])){if(e){N();const c=e;h(c.$$.fragment,1,0,()=>{H(c,1)}),S()}r?(e=A(r,a(i)),M(e.$$.fragment),u(e.$$.fragment,1),B(e,l,t)):e=null}else if(r){const c={};s&1&&(c.load=i[0]),e.$set(c)}},i(i){n||(e&&u(e.$$.fragment,i),n=!0)},o(i){e&&h(e.$$.fragment,i),n=!1},d(i){i&&f(l),e&&H(e)}}}function ae(o){let l,e,t=o[0]&&P(o);return{c(){l=_("div"),t&&t.c()},l(n){l=g(n,"DIV",{});var r=w(l);t&&t.l(r),r.forEach(f)},m(n,r){d(n,l,r),t&&t.m(l,null),e=!0},p(n,[r]){n[0]?t?(t.p(n,r),r&1&&u(t,1)):(t=P(n),t.c(),u(t,1),t.m(l,null)):t&&(N(),h(t,1,1,()=>{t=null}),S())},i(n){e||(u(t),e=!0)},o(n){h(t),e=!1},d(n){n&&f(l),t&&t.d()}}}function oe(o,l,e){let t;return E(async()=>{e(0,{load:t}=await F(()=>import("../chunks/index.e8e741d4.js"),["../chunks/index.e8e741d4.js","../chunks/preload-helper.a4192956.js"],import.meta.url),t)}),[t]}class fe extends C{constructor(l){super(),L(this,l,oe,ae,y,{})}}export{fe as component};
