import{_ as N}from"../chunks/preload-helper.a4192956.js";import{s as y,n as p,o as S,t as $}from"../chunks/scheduler.e108d1fd.js";import{S as C,i as L,g,h as w,j as _,f,a as d,H as q,e as m,y as A,d as u,t as h,b as E,p as B,z as j,q as I,r as O,s as x,u as z,c as G,v as M,x as J,w as D}from"../chunks/index.9fcba71d.js";function H(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}class F{constructor(){let l=Math.random().toString(36).substring(7);this.namespace="wurbo"+l}listen(l){window[this.namespace]={render:l.wurboOut.render};const e=new BroadcastChannel(this.namespace);e.onmessage=t=>{var r,a,i;let n=((i=(a=(r=new DOMParser().parseFromString(t.data||"","text/html"))==null?void 0:r.body)==null?void 0:a.firstElementChild)==null?void 0:i.id)||null;if(n){let s=document.getElementById(n);if(s){s.outerHTML=t.data;return}}console.warn("No element found with id: ",n)}}}const K=""+new URL("../assets/vowels.e73d66cf.wasm",import.meta.url).href;function V(o){let l,e;return{c(){l=new q(!1),e=m(),this.h()},l(t){l=A(t,!1),e=m(),this.h()},h(){l.a=e},m(t,n){l.m(o[0],t,n),d(t,e,n)},p(t,n){n&1&&l.p(t[0])},d(t){t&&(f(e),l.d())}}}function Q(o){let l,e=o[0]&&V(o);return{c(){l=g("div"),e&&e.c()},l(t){l=w(t,"DIV",{});var n=_(l);e&&e.l(n),n.forEach(f)},m(t,n){d(t,l,n),e&&e.m(l,null)},p(t,[n]){t[0]?e?e.p(t,n):(e=V(t),e.c(),e.m(l,null)):e&&(e.d(1),e=null)},i:p,o:p,d(t){t&&f(l),e&&e.d()}}}function W(o,l,e){let{buildCodeString:t}=l,{load:n}=l,r,a;return S(async()=>{let i=new F,s=await fetch(K).then(v=>v.arrayBuffer()),c=[{"demo:vowels/wurbo-in":t(i.namespace)}];e(3,a=await n(s,c));let b={tag:"all-content",val:{page:{title:"Let's count vowels using templates for Inputs and Outputs!"},input:{placeholder:"Input the word with vowels it's here"},output:{value:"vowels"}}};e(0,r=a.wurboOut.render(b)),i.listen(a)}),o.$$set=i=>{"buildCodeString"in i&&e(1,t=i.buildCodeString),"load"in i&&e(2,n=i.load)},o.$$.update=()=>{o.$$.dirty&9&&r&&a&&(async()=>(await $(),a.wurboOut.activate()))()},[r,t,n,a]}class X extends C{constructor(l){super(),L(this,l,W,Q,y,{buildCodeString:1,load:2})}}const Y=""+new URL("../assets/forms.b1eeecac.wasm",import.meta.url).href;function k(o){let l,e;return{c(){l=new q(!1),e=m(),this.h()},l(t){l=A(t,!1),e=m(),this.h()},h(){l.a=e},m(t,n){l.m(o[0],t,n),d(t,e,n)},p(t,n){n&1&&l.p(t[0])},d(t){t&&(f(e),l.d())}}}function Z(o){let l,e=o[0]&&k(o);return{c(){l=g("div"),e&&e.c()},l(t){l=w(t,"DIV",{});var n=_(l);e&&e.l(n),n.forEach(f)},m(t,n){d(t,l,n),e&&e.m(l,null)},p(t,[n]){t[0]?e?e.p(t,n):(e=k(t),e.c(),e.m(l,null)):e&&(e.d(1),e=null)},i:p,o:p,d(t){t&&f(l),e&&e.d()}}}function ee(o,l,e){let{buildCodeString:t}=l,{load:n}=l,r,a;return S(async()=>{let i=new F,s=await fetch(Y).then(v=>v.arrayBuffer()),c=[{"demo:forms/wurbo-in":t(i.namespace)}];e(3,a=await n(s,c));let b={tag:"all-content",val:{page:{title:"Let's process the contents of a form."},input:{placeholder:"Enter a Username here"}}};e(0,r=a.wurboOut.render(b)),i.listen(a)}),o.$$set=i=>{"buildCodeString"in i&&e(1,t=i.buildCodeString),"load"in i&&e(2,n=i.load)},o.$$.update=()=>{o.$$.dirty&9&&r&&a&&(async()=>(await $(),a.wurboOut.activate()))()},[r,t,n,a]}class te extends C{constructor(l){super(),L(this,l,ee,Z,y,{buildCodeString:1,load:2})}}const R=[X,te];function ne(o){return`
      const bc = new BroadcastChannel('${o}');
      export function addeventlistener({ selector, ty }) {
        document.querySelector(selector).addEventListener(ty, (e) => {
          let ctx = {
            tag: e.target.name,
            val: {
              value: e.target.value,
            }
          };
          bc.postMessage(window.${o}.render(ctx));
        });
      }`}function T(o,l,e){const t=o.slice();return t[1]=l[e],t}function U(o){let l,e,t=H(R),n=[];for(let a=0;a<t.length;a+=1)n[a]=P(T(o,t,a));const r=a=>h(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();l=m()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);l=m()},m(a,i){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,i);d(a,l,i),e=!0},p(a,i){if(i&1){t=H(R);let s;for(s=0;s<t.length;s+=1){const c=T(a,t,s);n[s]?(n[s].p(c,i),u(n[s],1)):(n[s]=P(c),n[s].c(),u(n[s],1),n[s].m(l.parentNode,l))}for(B(),s=t.length;s<n.length;s+=1)r(s);E()}},i(a){if(!e){for(let i=0;i<t.length;i+=1)u(n[i]);e=!0}},o(a){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)h(n[i]);e=!1},d(a){a&&f(l),j(n,a)}}}function P(o){let l,e,t,n;var r=o[1];function a(i,s){return{props:{load:i[0],buildCodeString:ne}}}return r&&(e=I(r,a(o))),{c(){l=g("div"),e&&O(e.$$.fragment),t=x()},l(i){l=w(i,"DIV",{});var s=_(l);e&&z(e.$$.fragment,s),t=G(s),s.forEach(f)},m(i,s){d(i,l,s),e&&M(e,l,null),J(l,t),n=!0},p(i,s){if(r!==(r=i[1])){if(e){B();const c=e;h(c.$$.fragment,1,0,()=>{D(c,1)}),E()}r?(e=I(r,a(i)),O(e.$$.fragment),u(e.$$.fragment,1),M(e,l,t)):e=null}else if(r){const c={};s&1&&(c.load=i[0]),e.$set(c)}},i(i){n||(e&&u(e.$$.fragment,i),n=!0)},o(i){e&&h(e.$$.fragment,i),n=!1},d(i){i&&f(l),e&&D(e)}}}function le(o){let l,e,t=o[0]&&U(o);return{c(){l=g("div"),t&&t.c()},l(n){l=w(n,"DIV",{});var r=_(l);t&&t.l(r),r.forEach(f)},m(n,r){d(n,l,r),t&&t.m(l,null),e=!0},p(n,[r]){n[0]?t?(t.p(n,r),r&1&&u(t,1)):(t=U(n),t.c(),u(t,1),t.m(l,null)):t&&(B(),h(t,1,1,()=>{t=null}),E())},i(n){e||(u(t),e=!0)},o(n){h(t),e=!1},d(n){n&&f(l),t&&t.d()}}}function ie(o,l,e){let t;return S(async()=>{e(0,{load:t}=await N(()=>import("../chunks/index.e8e741d4.js"),["../chunks/index.e8e741d4.js","../chunks/preload-helper.a4192956.js"],import.meta.url),t)}),[t]}class re extends C{constructor(l){super(),L(this,l,ie,le,y,{})}}export{re as component};
